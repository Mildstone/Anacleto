#
# For a description of the syntax of this configuration file,
# see Documentation/kbuild/kconfig-language.txt.
#
mainmenu "Anacleto - GNU Linux build system for FPGA SoC devices"



# //////////////////////////////////////////////////////////////////////////// #
# //  BULD COMMON  /////////////////////////////////////////////////////////// #
# //////////////////////////////////////////////////////////////////////////// #

source conf/scripts/build_common.kconfig


# //////////////////////////////////////////////////////////////////////////// #
# //  TOOLCHAIN  ///////////////////////////////////////////////////////////// #
# //////////////////////////////////////////////////////////////////////////// #

source conf/scripts/toolchain.kconfig


# //////////////////////////////////////////////////////////////////////////// #
# //  FPGA  ////////////////////////////////////////////////////////////////// #
# //////////////////////////////////////////////////////////////////////////// #

source fpga/Kconfig


# //////////////////////////////////////////////////////////////////////////// #
# //  LINUX  ///////////////////////////////////////////////////////////////// #
# //////////////////////////////////////////////////////////////////////////// #

source conf/scripts/linux.kconfig


# //////////////////////////////////////////////////////////////////////////// #
# //  YOCTO  ///////////////////////////////////////////////////////////////// #
# //////////////////////////////////////////////////////////////////////////// #

menu YOCTO
  config ENABLE_YOCTO
	bool  "Enable Yocto build"
	default "no"

  config YOCTO_DIR
	string  "Yocto src directory"
	depends on ENABLE_YOCTO
	default "yocto"

  choice YOCTO_DLMETHOD
	prompt "Yocto sources download method"
	config WITH_YOCTO_TAR
	 bool "tar archive"
	config WITH_YOCTO_GIT
	 bool "git repository"
  endchoice

  config YOCTO_TAR
	string  "Yocto tar repository"
	depends on WITH_YOCTO_TAR
	default "http://downloads.yoctoproject.org/releases/yocto/yocto-2.2/poky-morty-16.0.0.tar.bz2"

  config YOCTO_GIT
	string  "Yocto git repository"
	depends on WITH_YOCTO_GIT
	default "git://git.yoctoproject.org/poky.git"

  config YOCTO_VERSION
	string  "Yocto version"
	depends on WITH_YOCTO_GIT
	default "rocko"

  config ENABLE_YOCTO_XILINX
	bool  "Enable Yocto meta-xilinx build"
	depends on ENABLE_YOCTO
	default "no"

  choice YOCTO_XILINX_DLMETHOD
	prompt "Yocto meta-xilinx sources download method"
	config WITH_YOCTO_XILINX_TAR
	 bool "tar archive"
	config WITH_YOCTO_XILINX_GIT
	 bool "git repository"
  endchoice

  config YOCTO_XILINX_TAR
	string  "Yocto meta-xilinx tar repository"
	depends on WITH_YOCTO_XILINX_TAR
	default ""

  config YOCTO_XILINX_GIT
	string  "Yocto meta-xilinx git repository"
	depends on WITH_YOCTO_XILINX_GIT
	default "https://github.com/Xilinx/meta-xilinx.git"

  config YOCTO_LINARO_GIT
	string  "Yocto meta-linaro-toolchain git repository"
	depends on ENABLE_YOCTO_XILINX
	default "https://github.com/Xilinx/meta-xilinx.git"



endmenu # YOCTO

# //////////////////////////////////////////////////////////////////////////// #
# //  DOCKER  //////////////////////////////////////////////////////////////// #
# //////////////////////////////////////////////////////////////////////////// #

source conf/scripts/docker.kconfig


# //////////////////////////////////////////////////////////////////////////// #
# //  TARGET_DEVICE  ///////////////////////////////////////////////////////// #
# //////////////////////////////////////////////////////////////////////////// #

menu TARGET_DEVICE

    config DEVICE_NAME
          string  "Enter device name"
          
    config DEVICE_IP
          string  "Enter device IP address"
          
    config DEVICE_ACCESS
          string  "Enter device access method"
          default "sftp"
          
    config DEVICE_USER
          string  "User to connect device with"
          default "root"

    choice DEVICE_AUTHMETHOD
          prompt "Select device authentication method"
          config WITH_DEVICE_SSHPASSWD
           bool "Auth on device using password"
          config WITH_DEVICE_SSHKEY
           bool "Auth on device using ssh keyid"
    endchoice

    config DEVICE_PASSWD
          string  "User password to autenticate user"
          depends on WITH_DEVICE_SSHPASSWD
          default "root"

    config DEVICE_SSHKEY
          string  "User rsa_key to autenticate"
          depends on WITH_DEVICE_SSHKEY
          default "$HOME/.ssh/id_rsa"

    config DEVICE_MODULES_DIR
          string  "Target device modules directory"
          default "/lib/modules"

    config DEVICE_BOOT_DIR
	  string  "Target device boot directory"
	  default "/boot"

endmenu # TARGET_DEVICE




# config TEST_VARIABLE
#      string  "Test variable"
#      default "prova"
